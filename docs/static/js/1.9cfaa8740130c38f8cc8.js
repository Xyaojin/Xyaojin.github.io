webpackJsonp([1],{"6mza":function(t,e){},"80bi":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Gu7T"),s=i.n(n),a=i("BO1k"),r=i.n(a),o=i("olkN"),l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card",on:{mouseover:function(e){return t.$emit("display")},mouseleave:function(e){return t.$emit("leave")}}},[i("router-link",{attrs:{to:"/product/"+t.id}},[i("img",{staticClass:"myImg card-img-top",attrs:{src:t.img}})]),t._v(" "),i("div",{staticClass:"card-body"},[i("p",{staticClass:"card-text name"},[t._v(t._s(t.name))]),t._v(" "),i("p",{staticClass:"card-text sale"},[t._v("销量"+t._s(t.sale)+"件")]),t._v(" "),i("p",{staticClass:"card-text price"},[t._v("￥"+t._s(t.price))])]),t._v(" "),"none"===t.display?i("span",{staticClass:"cartNone"}):i("span",{staticClass:"cart",style:"display: "+t.display,on:{click:function(e){return t.$emit("click")}}},[t._v("加入购物车")])],1)},staticRenderFns:[]};var c=i("VU/8")({name:"item",props:["name","price","sale","id","img","color","display","begin","last","disp","lal"]},l,!1,function(t){i("r9ik")},null,null).exports,u=i("sTOI"),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-carousel",{attrs:{interval:5e3,arrow:"always",type:"card",height:"500px","indicator-position":"none"}},this._l(this.list,function(t,i){return e("el-carousel-item",{key:i},[e("img",{attrs:{src:t,alt:"图片",width:"1200",height:"450"}})])}),1)],1)},staticRenderFns:[]};var h={name:"list",components:{item:c,top:i("VU/8")({name:"Top",data:function(){return{list:["/static/img/lunbo/1.webp","/static/img/lunbo/2.webp","/static/img/lunbo/3.webp"]}}},d,!1,function(t){i("6mza")},"data-v-77382af8",null).exports},data:function(){return{beifen:u.a,products:u.a,input:"",items:[],brandsArray:[{brand:"IPHONE",selectFlag:0},{brand:"HUAWEI",selectFlag:0},{brand:"OPPO",selectFlag:0},{brand:"VIVO",selectFlag:0},{brand:"MI",selectFlag:0}],colorsArray:[{color:"white",value:"白色",selectFlag:0},{color:"black",value:"黑色",selectFlag:0},{color:"red",value:"红色",selectFlag:0},{color:"blue",value:"蓝色",selectFlag:0}],sortsArray:[{method:"default",value:"默认↑",selectFlag:1},{method:"salesVolume",value:"销量↑",selectFlag:0},{method:"price",value:"价格↑",selectFlag:0}],begin:1,last:4,disp:12,pageBegin:0,pages:[],active:0,totalPage:0,noItemsFlag:!1,current:"↑",sortMethod:"default",conditions:{brands:[],colors:[]},itemFilters:{brandsFilter:function(t,e){var i=[];if(0===e.length)i=t;else{var n=function(e){i=i.concat(t.filter(function(t){return t.brand===e}))},s=!0,a=!1,o=void 0;try{for(var l,c=r()(e);!(s=(l=c.next()).done);s=!0){n(l.value)}}catch(t){a=!0,o=t}finally{try{!s&&c.return&&c.return()}finally{if(a)throw o}}}return i},colorsFilter:function(t,e){var i=[];if(0===e.length)i=t;else{var n=function(e){i=i.concat(t.filter(function(t){return t.color===e}))},s=!0,a=!1,o=void 0;try{for(var l,c=r()(e);!(s=(l=c.next()).done);s=!0){n(l.value)}}catch(t){a=!0,o=t}finally{try{!s&&c.return&&c.return()}finally{if(a)throw o}}}return i},salesVolumeSort:function(t){return t.sort(function(t,e){return t.salesVolume-e.salesVolume})},priceSort:function(t){return t.sort(function(t,e){return t.price-e.price})},defaultSort:function(t){return t.sort(function(t,e){return t.price*t.salesVolume-e.price*e.salesVolume})}}}},watch:{conditions:function(){return{brands:this.conditions.brands,colors:this.conditions.color}},itemFilters:function(){return this.itemFilters},noItemsFlag:function(){return 0===this.doFilter.length},current:function(){return this.current}},computed:{doFilter:function(){return this.itemFilters[this.sortMethod+"Sort"](this.itemFilters.brandsFilter(this.itemFilters.colorsFilter(this.items,this.conditions.colors),this.conditions.brands))},doFilterReverse:function(){for(var t=[],e=this.doFilter.length-1;e>=0;e--)t.push(this.doFilter[e]);return t},itemCount:function(){return o.a.state.itemCount}},created:function(){this.init()},updated:function(){$(".cart").on("click",function(){var t=$(".fix"),e=$(this).parent(".card").find("img");e&&e.clone().offset({top:e.offset().top,left:e.offset().left}).css({opacity:"0.5",position:"absolute",height:"150px",width:"150px","z-index":"100"}).appendTo($("body")).animate({top:t.offset().top+15,left:t.offset().left+10,width:75,height:75},1e3,"easeInOutExpo").animate({width:0,height:0},function(){$(this).detach()})})},methods:{init:function(){var t=this;setTimeout(function(){var e=t.products;t.items=[].concat(s()(e))},500);var e=this.products.length;this.totalPage=Math.ceil(e/this.disp),this.last=this.totalPage,this.pages=[];for(var i=0;i<this.totalPage;i++)this.pages.push(i+1)},activeClass:function(t){this.active=t,this.pageBegin=this.active*this.disp},search:function(){console.log(this.input);var t=this.input,e=new RegExp(t.toLowerCase()),i=this.beifen.filter(function(t){return e.test(t.name.toLowerCase())});""===this.input&&(i=this.beifen),this.items=i,this.products=i,this.init()},activeClassBefore:function(){this.active>0&&(this.active-=1),this.pageBegin=this.active*this.disp},activeClassNext:function(){this.active<this.last-1&&(this.active+=1),this.pageBegin=this.active*this.disp},addCondition:function(t,e){if(this.active=0,this.pageBegin=0,0===e){var i=this.conditions.brands;-1!==i.indexOf(t.brand)?i.splice(i.indexOf(t.brand),1):i.push(t.brand)}else{var n=this.conditions.colors;-1!==n.indexOf(t.color)?n.splice(n.indexOf(t.color),1):n.push(t.color)}t.selectFlag+=1,t.selectFlag%=2;var s=this.doFilter.length;this.totalPage=Math.ceil(s/this.disp),this.last=this.totalPage,this.pages=[];for(var a=0;a<this.totalPage;a++)this.pages.push(a+1);0===this.doFilter.length?this.noItemsFlag=!0:this.noItemsFlag=!1},changeSortMethod:function(t){t.method===this.sortMethod&&("↑"===t.value[t.value.length-1]?(t.value=t.value.substring(0,t.value.length-1)+"↓",this.current="↓"):(t.value=t.value.substring(0,t.value.length-1)+"↑",this.current="↑")),this.active=0,this.pageBegin=0,this.sortMethod=t.method;var e=!0,i=!1,n=void 0;try{for(var s,a=r()(this.sortsArray);!(e=(s=a.next()).done);e=!0){var o=s.value;o.selectFlag=o!==t?0:1}}catch(t){i=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw n}}},addItems:function(t){o.a.commit({type:"addItem",count:1}),o.a.commit({type:"addCartItems",id:t.id,name:t.name,price:t.price,count:1,img:t.img})},display:function(t){t.display=""},leave:function(t){t.display="none"}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"top"},[i("top")],1),t._v(" "),i("div",{staticClass:"mainTop"},[i("div",[i("div",{staticClass:"conditionOne"},[i("span",{staticClass:"intro"},[t._v("品牌：")]),t._v(" "),t._l(t.brandsArray,function(e){return[i("button",{key:e.id,class:0===e.selectFlag?"btn":"btn selected",on:{click:function(i){return t.addCondition(e,0)}}},[t._v("\n            "+t._s(e.brand)+"\n          ")])]})],2),t._v(" "),i("div",{staticClass:"conditionThree"},[i("span",{staticClass:"intro"},[t._v("排序：")]),t._v(" "),t._l(t.sortsArray,function(e){return[i("button",{key:e.id,class:0===e.selectFlag?"btn":"btn selected",on:{click:function(i){return t.changeSortMethod(e)}}},[t._v("\n            "+t._s(e.value)+"\n          ")])]})],2),t._v(" "),i("div",{staticClass:"conditionTwo"},[i("span",{staticClass:"intro"},[t._v("颜色：")]),t._v(" "),t._l(t.colorsArray,function(e){return[i("button",{key:e.id,class:0===e.selectFlag?"btn":"btn selected",on:{click:function(i){return t.addCondition(e,1)}}},[t._v("\n            "+t._s(e.value)+"\n          ")])]})],2)]),t._v(" "),i("div",{staticClass:"right"},[i("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)]),t._v(" "),i("router-link",{staticClass:"glyphicon glyphicon-shopping-cart fix",attrs:{to:"/cart"}},[i("span",{staticClass:"itemCount"},[t._v(t._s(t.itemCount))])]),t._v(" "),i("div",{staticClass:"mainBottom"},["↑"===t.current?t._l(t.doFilter.slice(t.pageBegin,t.pageBegin+t.disp),function(e){return i("item",{key:e.id,attrs:{id:e.id,display:e.display,name:e.name,price:e.price,color:e.color,img:e.img,sale:e.salesVolume,intro:e.intro},on:{click:function(i){return t.addItems(e)},leave:function(i){return t.leave(e)},display:function(i){return t.display(e)},select:function(i){return t.addItems(e)}}})}):t._l(t.doFilterReverse.slice(t.pageBegin,t.pageBegin+t.disp),function(e){return i("item",{key:e.id,attrs:{id:e.id,display:e.display,name:e.name,price:e.price,color:e.color,img:e.img,sale:e.salesVolume,intro:e.intro},on:{click:function(i){return t.addItems(e)},leave:function(i){return t.leave(e)},display:function(i){return t.display(e)},select:function(i){return t.addItems(e)}}})}),t._v(" "),t.noItemsFlag?[t._m(0)]:t._e()],2),t._v(" "),i("div",{staticClass:"pag"},[t._l(t.pages,function(e,n){return[e===t.begin?i("li",{key:e.id,class:t.active===t.begin-1?"disabled begin":"begin"},[i("span",{on:{click:t.activeClassBefore}},[t._v("上一页")])]):t._e(),t._v(" "),i("li",{key:e.id,class:t.active===n?"active middle":"middle"},[i("span",{on:{click:function(e){return t.activeClass(n)}}},[t._v(t._s(e))])]),t._v(" "),e===t.last?i("li",{key:e.id,class:t.active===t.last-1?"disabled end":"end"},[i("span",{on:{click:t.activeClassNext}},[t._v("下一页")])]):t._e()]})],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"errorText"},[this._v("\n        抱歉，没有找到符合条件的商品，"),e("br"),this._v("\n        可以减少筛选条件再试试！\n      ")])}]};var v=i("VU/8")(h,p,!1,function(t){i("ulCz")},"data-v-2e7f3940",null);e.default=v.exports},r9ik:function(t,e){},ulCz:function(t,e){}});
//# sourceMappingURL=1.9cfaa8740130c38f8cc8.js.map