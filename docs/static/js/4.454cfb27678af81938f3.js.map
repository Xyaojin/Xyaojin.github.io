{"version":3,"sources":["webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?56c9","webpack:///./src/views/Login.vue"],"names":["Login","name","data","loginForm","username","password","methods","getUsers","localStorage","getItem","JSON","parse","this","$axios","type","url","then","res","console","log","setItem","stringify_default","catch","err","doFilterUser","users","user","filter","item","checkLogin","_this","newArr","length","$message","showClose","message","setTimeout","$store","commit","$cookies","set","$router","push","views_Login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","justify","span","placeholder","model","value","callback","$$v","$set","expression","slot","_v","staticStyle","width","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"mJA2CAA,GACAC,KAAA,QACAC,KAFA,WAGA,OACAC,WACAC,SAAA,GACAC,SAAA,MAIAC,SACAC,SADA,WAEA,UAAAC,aAAAC,QAAA,SAaA,OAAAC,KAAAC,MAAAH,aAAAC,QAAA,UAZAG,KAAAC,QACAC,KAAA,MACAC,IAAA,4BAEAC,KAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAT,aAAAY,QAAA,QAAAC,IAAAJ,EAAAf,SAEAoB,MAAA,SAAAC,GACAL,QAAAC,IAAAI,MAMAC,aAlBA,SAkBAC,EAAAC,GACA,OAAAD,EAAAE,OAAA,SAAAC,GACA,OACAA,EAAAxB,WAAAsB,EAAAtB,UAAAwB,EAAAvB,WAAAqB,EAAArB,YAIAwB,WAzBA,WAyBA,IAAAC,EAAAlB,KACAa,EAAAb,KAAAL,WACAwB,EAAAnB,KAAAY,aAAAC,EAAAb,KAAAT,WACA,IAAA4B,EAAAC,OACApB,KAAAqB,UACAC,WAAA,EACAC,QAAA,cAGAvB,KAAAqB,UACAC,WAAA,EACApB,KAAA,UACAqB,QAAA,SAEAC,WAAA,WACAN,EAAAO,OAAAC,OAAA,UAAAP,EAAA,IACAD,EAAAS,SAAAC,IAAA,WAAAnB,IAAAU,EAAA,UACAD,EAAAW,QAAAC,KAAA,UACA,SC7FeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,YAAAC,OAA+BC,GAAA,SAAYJ,EAAA,UAAeG,OAAOrC,KAAA,OAAAuC,QAAA,YAAkCL,EAAA,UAAeG,OAAOG,KAAA,KAAUN,EAAA,YAAiBG,OAAOrC,KAAA,OAAAsC,GAAA,OAAAG,YAAA,SAAgDC,OAAQC,MAAAZ,EAAA1C,UAAA,SAAAuD,SAAA,SAAAC,GAAwDd,EAAAe,KAAAf,EAAA1C,UAAA,WAAAwD,IAAyCE,WAAA,wBAAkCb,EAAA,YAAiBc,KAAA,YAAejB,EAAAkB,GAAA,oBAAAlB,EAAAkB,GAAA,KAAAf,EAAA,UAAsDG,OAAOrC,KAAA,OAAAuC,QAAA,YAAkCL,EAAA,UAAeG,OAAOG,KAAA,KAAUN,EAAA,YAAiBG,OAAOC,GAAA,WAAAtC,KAAA,WAAAyC,YAAA,SAAwDC,OAAQC,MAAAZ,EAAA1C,UAAA,SAAAuD,SAAA,SAAAC,GAAwDd,EAAAe,KAAAf,EAAA1C,UAAA,WAAAwD,IAAyCE,WAAA,wBAAkCb,EAAA,YAAiBc,KAAA,YAAejB,EAAAkB,GAAA,oBAAAlB,EAAAkB,GAAA,KAAAf,EAAA,UAAsDG,OAAOrC,KAAA,OAAAuC,QAAA,YAAkCL,EAAA,UAAeG,OAAOG,KAAA,KAAUN,EAAA,aAAkBgB,aAAaC,MAAA,QAAed,OAAQC,GAAA,QAAAtC,KAAA,WAA8BoD,IAAKC,MAAAtB,EAAAhB,cAAwBgB,EAAAkB,GAAA,uBAE1lCK,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEvE,EACA2C,GATF,EAVA,SAAA6B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.454cfb27678af81938f3.js","sourcesContent":["<template>\r\n  <div class=\"center\">\r\n    <div class=\"login-box\" id=\"app\">\r\n      <el-row type=\"flex\" justify=\"center\">\r\n        <el-col :span=\"8\">\r\n          <el-input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            v-model=\"loginForm.username\"\r\n            placeholder=\"请输入帐号\"\r\n          >\r\n            <template slot=\"prepend\">帐号</template>\r\n          </el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row type=\"flex\" justify=\"center\">\r\n        <el-col :span=\"8\">\r\n          <el-input\r\n            id=\"password\"\r\n            v-model=\"loginForm.password\"\r\n            type=\"password\"\r\n            placeholder=\"请输入密码\"\r\n          >\r\n            <template slot=\"prepend\">密码</template>\r\n          </el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row type=\"flex\" justify=\"center\">\r\n        <el-col :span=\"8\">\r\n          <el-button\r\n            id=\"login\"\r\n            style=\"width: 100%\"\r\n            type=\"primary\"\r\n            @click=\"checkLogin\"\r\n            >登录</el-button\r\n          >\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n \r\n<script>\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      loginForm: {\r\n        username: '',\r\n        password: '',\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    getUsers() {\r\n      if (localStorage.getItem('users') === null) {\r\n        this.$axios({\r\n          type: 'get',\r\n          url: '/static/data/users.json',\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n            localStorage.setItem('users', JSON.stringify(res.data));\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      } else {\r\n        return JSON.parse(localStorage.getItem('users'));\r\n      }\r\n    },\r\n    doFilterUser(users, user) {\r\n      return users.filter((item) => {\r\n        return (\r\n          item.username === user.username && item.password === user.password\r\n        );\r\n      });\r\n    },\r\n    checkLogin() {\r\n      let users = this.getUsers();\r\n      let newArr = this.doFilterUser(users, this.loginForm);\r\n      if (newArr.length === 0) {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '账号或者密码错误',\r\n        });\r\n      } else {\r\n        this.$message({\r\n          showClose: true,\r\n          type: 'success',\r\n          message: '登录成功',\r\n        });\r\n        setTimeout(() => {\r\n          this.$store.commit('addUser', newArr[0]);\r\n          this.$cookies.set('userInfo', JSON.stringify(newArr[0]), '1d');\r\n          this.$router.push('/list');\r\n        }, 1000);\r\n        \r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.center {\r\n  width: 90%;\r\n  min-width: 380px;\r\n  margin: 40px auto;\r\n  padding: 40px 0;\r\n  border-radius: 6px;\r\n  background: #f0f3f8;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"center\"},[_c('div',{staticClass:\"login-box\",attrs:{\"id\":\"app\"}},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"type\":\"text\",\"id\":\"name\",\"placeholder\":\"请输入帐号\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"帐号\")])],2)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"id\":\"password\",\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"密码\")])],2)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"login\",\"type\":\"primary\"},on:{\"click\":_vm.checkLogin}},[_vm._v(\"登录\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9975fc8e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9975fc8e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9975fc8e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9975fc8e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}